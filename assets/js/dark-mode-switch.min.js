/*!
 * Dark Mode Switch v1.0.1 (https://github.com/coliff/dark-mode-switch)
 * Copyright 2021 C.Oliff
 * Licensed under MIT (https://github.com/coliff/dark-mode-switch/blob/main/LICENSE)
 */
var darkSwitch = document.getElementById("darkSwitch");
var java = document.getElementsByName("skill");

window.addEventListener("load", function() {
    if (darkSwitch) {
        initTheme();
        darkSwitch.addEventListener("change", function() {
            resetTheme();
        });
    }
});

function initTheme() {
    var darkThemeSelected =
        localStorage.getItem("darkSwitch") !== null &&
        localStorage.getItem("darkSwitch") === "dark";
    darkSwitch.checked = darkThemeSelected;
    if (darkThemeSelected) {
        document.body.setAttribute("data-theme", "dark");
        // for loop to change the background color of the java code
        for (var i = 0; i < java.length; i++) {
            java[i].style.background = "#FFFFFF1A";
            java[i].style.color =  "#EFF2F699";
        }
    } else {
        document.body.removeAttribute("data-theme");
        for (let i = 0; i < java.length; i++) {
            java[i].style.background = "#000A200D";
            java[i].style.color = "#3C3C4399";
    }
}}

function resetTheme() {
    if (darkSwitch.checked) {
        document.body.setAttribute("data-theme", "dark");
        localStorage.setItem("darkSwitch", "dark");
        
        for (let i = 0; i < java.length; i++) {
            java[i].style.background = "#FFFFFF1A";
            java[i].style.color = "#EFF2F699";
        }
    }

     else {
        document.body.removeAttribute("data-theme");
        localStorage.removeItem("darkSwitch");

        for (let i = 0; i < java.length; i++) {
            java[i].style.background = "#000A200D";
            java[i].style.color = "#3C3C4399";
        }   


    }
}



window.addEventListener("load", function() {
    changeTextMutedClass();
    darkSwitch.addEventListener("change", function() {
        changeTextMutedClass();
    });
});

function changeTextMutedClass() {
    let textMutedElements = document.getElementsByClassName("text-muted");
    for (let i = 0; i < textMutedElements.length; i++) {
        if(darkSwitch.checked){
            textMutedElements[i].classList.remove("text-muted");
            textMutedElements[i].classList.add("text-white");
        }else{
            textMutedElements[i].classList.remove("text-white");
            textMutedElements[i].classList.add("text-muted");
        }
    }
}
